<?phpclass UsersController extends AppController {var $name = 'Users';var $helpers = array('Html', 'Form');function index() {$this->set('users', $this->User->find('all'));}function add() {if (!empty($this->data)) {$this->User->create();if ($this->User->save($this->data)) {$this->Session->setFlash('The user has been saved');$this->redirect(array('action'=>'index'), null, true);} else {$this->Session->setFlash('User not saved. Try again.');}}}/*function edit($id = null) {if (!$id) {$this->Session->setFlash('Invalid User');$this->redirect(array('action'=>'index'), null, true);}if (empty($this->data)) {$this->data = $this->User->find(array('id' => $id));} else {if ($this->User->save($this->data)) {$this->Session->setFlash('The User has been saved');$this->redirect(array('action'=>'index'), null, true);} else {$this->Session->setFlash('The User could not be saved.Please, try again.');}}}*/ /*function edit($id) {     // Has any form data been POSTed?    if ($this->request->is('post')) {        // If the form data can be validated and saved...        if ($this->User->save($this->request->data)) {            // Set a session flash message and redirect.            $this->Session->setFlash('User Saved!');            return $this->redirect('index');        }    }    // If no form data, find the recipe to be edited    // and hand it to the view.    //$this->set('User', $this->User->findById($id));	$this->data = $this->User->find(array('id' => $id));}*/public function edit($id = null) {    if (!$id) {        throw new NotFoundException('NO ID HAS BEEN SUPPLIED');    }     $data = $this->User->findById($id);     if(!$this->request->is('post')) { $this->request->data = $data;   }    if($this->request->is('post') || $this->request->is('put')) {        $this->User->id = $id;        $this->User->save($this->data);       $this->redirect(array('action'=>'index'));   } }}?>